<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>THE INDEX: PRESCRIPT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <style>
    :root {
      --index-cyan: #00f2ff;
      --index-red: #ff003c;
    }

    html, body { 
      margin: 0; 
      height: 100%; 
      background-color: #030303; 
      color: var(--index-cyan); /* Sets all text to Neon Cyan */
      font-family: 'VT323', monospace; 
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* CRT Scanline & Grain Overlay */
    body::before {
      content: " ";
      display: block;
      position: absolute;
      top: 0; left: 0; bottom: 0; right: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                  linear-gradient(90deg, rgba(255, 0, 0, 0.05), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.05));
      z-index: 10;
      background-size: 100% 3px, 3px 100%;
      pointer-events: none;
    }

    #container {
      text-align: center;
      padding: 40px; 
      width: 95%;  
      max-width: 900px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #header {
      font-size: 20px;
      letter-spacing: 6px;
      margin-bottom: 20px;
      text-shadow: 0 0 8px var(--index-cyan); /* Neon Glow for Header */
      opacity: 0.8;
    }

    /* Clean Logo - No Glow/Pulse */
    #logo {
      width: 200px;
      height: auto;
      margin-bottom: 25px;
      opacity: 0.9;
      /* Image stays flat now */
    }

    #prescript {
      font-size: 42px;
      line-height: 1.1;
      min-height: 150px;
      word-wrap: break-word;
      text-transform: uppercase;
      /* Intense Neon Text Shadow */
      text-shadow: 0 0 10px var(--index-cyan), 0 0 20px rgba(0, 242, 255, 0.4);
    }

    .cursor {
      display: inline-block;
      width: 20px;
      height: 40px;
      background-color: var(--index-cyan);
      margin-left: 10px;
      vertical-align: middle;
      animation: blink 0.4s step-end infinite;
      box-shadow: 0 0 12px var(--index-cyan);
    }

    @keyframes blink { 50% { opacity: 0; } }

    @keyframes glitch {
      0% { transform: translate(0); }
      20% { transform: translate(-1px, 1px); }
      40% { transform: translate(-1px, -1px); }
      60% { transform: translate(1px, 1px); }
      100% { transform: translate(0); }
    }
    #container { animation: glitch 2s linear infinite; }
  </style>

</head>

<body>
  <div id="container">
    <div id="header">RECEIVING_TRANSMISSION_FROM_THE_INDEX</div>
    
    <img id="logo" src="index_logo.png" alt="THE INDEX">

    <div id="prescript">INITIALIZING_DECODER...</div>
  </div>

  <script>
    const prescriptData = {
      morning: [
        "Drink exactly three sips of water before your first meal.",
        "Greet the first sunbeam you see with a silent nod.",
        "Walk exactly 100 steps toward the East before starting your day.",
        "Do not speak for the first 10 minutes after exiting your home.",
        "Arrange your morning utensils in a straight line pointing North."
      ],
      afternoon: [
        "Find the tallest shadow in the street and stand in it for 1 minute.",
        "Touch a metallic surface every time you hear a bird chirp.",
        "Do not use your right hand to open any doors this afternoon.",
        "Count the number of blue cars you see in the next 10 minutes.",
        "Eat your next meal without looking at any digital screens."
      ],
      evening: [
        "Whisper 'The Will' to the first star you see tonight.",
        "Walk only on the shadows of buildings while returning home.",
        "Do not look at any mirrors until the clock strikes midnight.",
        "Light a small flame or look at a candle for 30 seconds.",
        "Place your shoes pointing toward the door before you sleep."
      ],
      night: [
        "Sit in total darkness for 3 minutes without moving.",
        "Listen to the silence of the City for 60 seconds.",
        "Cover all reflective surfaces in your room with a cloth.",
        "Do not sleep until you have recited the Will in your mind.",
        "The Index demands your absolute silence until dawn."
      ],
      anytime: [
        "Walk 44 steps then turn left. Do not look back.",
        "Blink 12 times rapidly when looking at the sky.",
        "The Will of the City demands your absolute silence.",
        "The Index sees all; fix a loose thread on your clothing.",
        "Do not use any stairs for the next 2 hours.",
        "Walk backwards for 10 steps after leaving any door.",
        "If you see a black car, take 3 deep breaths.",
        "Touch every red wall you pass on your way home.",
        "Carry a small stone in your left pocket until sunset.",
        "Trace an invisible hexagon on your palm right now.",
        "The Proxy has noted your location. Keep moving.",
        "Cut a single strand of hair and leave it on a public bench.",
        "If you hear a bell, close your eyes for five seconds.",
        "Speak to no one whose name starts with a vowel.",
        "Touch the ground with your forehead before entering your room.",
        "The Will demands you burn a single page of a book.",
        "The Index requires you to point at the moon for ten seconds.",
        "Do not look at your own reflection in water.",
        "Offer a silent apology to the next machine you use.",
        "Hum a low frequency for 30 seconds upon entering your home."
      ]
    };

    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+-=[]{}|;:,.<>?/0123456789';
    const displayElement = document.getElementById('prescript');

    function cycleText(targetText) {
      let iterations = 0;
      const interval = setInterval(() => {
        displayElement.innerHTML = targetText
          .split("")
          .map((char, index) => {
            if (index < iterations) return targetText[index];
            return characters[Math.floor(Math.random() * characters.length)];
          })
          .join("") + '<span class="cursor"></span>';

        if (iterations >= targetText.length) clearInterval(interval);
        iterations += 1/3; // Controls decoding speed
      }, 40); 
    }

    function generate() {
      const now = new Date();
      const hour = now.getHours();
      let pool = [...prescriptData.anytime];

      if (hour >= 6 && hour < 12) pool.push(...prescriptData.morning);
      else if (hour >= 12 && hour < 18) pool.push(...prescriptData.afternoon);
      else if (hour >= 18 && hour < 24) pool.push(...prescriptData.evening);
      else pool.push(...prescriptData.night);

      const randomPrescript = pool[Math.floor(Math.random() * pool.length)].toUpperCase();
      
      // Short delay before decoding for effect
      setTimeout(() => cycleText(randomPrescript), 800);
    }

    window.onload = generate;
  </script>
</body>
</html>
